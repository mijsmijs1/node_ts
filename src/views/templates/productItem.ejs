<tr>
    <th scope="row">
        <%= Number(index) +1 %>
    </th>
    <td>
        <%= product.title %>
    </td>
    <td>
        <%= product.title %>
    </td>
    <td>
        <button class="btn btn-danger" onclick="deleteProduct('<%= product.id %>')">delete</button>
    </td>
</tr>
<script>
    async function deleteProduct(id) {
        console.log('id',id);
        await fetch(`http://127.0.0.1:3000/api/v1/products/delete/${id}`,{
            method:"DELETE"
        })
        .then(response  =>{
            if(response.ok){
                console.log('response',response)
                return response.json()
            }else{
                throw new Error('Lỗi kết nối');
            }
        })
        .then(data =>{
            console.log('data',data)
        })
        .catch(err=>{
            console.log('err',err)
        })
        }

</script>


